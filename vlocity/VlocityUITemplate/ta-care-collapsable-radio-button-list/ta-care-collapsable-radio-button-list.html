<div  class="slds-tree__container"  role="application" >
    <ul class="slds-tree" 
        role="tree" 
        aria-labelledby="treeheading" 
        aria-activedescendant="tree0-node1">
        <li id="tree0-node1" 
            role="treeitem" 
            aria-level="1" 
            aria-expanded="{{expanded}}"
            ng-if="bpTree.response.BillingAccountsTo.BillingAccounts.length > 0"
            ng-repeat="ba in bpTree.response.BillingAccountsTo.BillingAccounts | filter: { TotalInvalidAssets: 0 }">
            <div class="slds-tree__item" ng-click="expanded = !expanded">
                <button 
                    class="slds-button slds-button--icon slds-m-right--x-small" 
                    aria-controls="tree0-node1" 
                    title="Toggle">
                    <slds-button-svg-icon 
                        size="'small'" 
                        sprite="'utility'" 
                        icon="'chevronright'">
                    </slds-button-svg-icon>
                </button>
                <div class="slds-form-element">
                    <div class="slds-form-element__control">
                        <span class="slds-radio">
                            <input type="radio" name="options"  id="radioid--{{$index}}" 
                                        ng-model="bpTree.response.BillingAccountsTo.SelectedBillingAccountTo"
                                        value="{{ba.Id}}"
                                        ng-click
                                /> 
                            <label class="slds-radio__label" for="radioid--{{$index}}"> 
                                <span class="slds-radio--faux"></span>
                                <a id="tree0-node1__label" class="slds-form-element__label slds-truncate" href="javascript:void(0);" tabindex="-1" role="presentation" title="Tree Branch">{{ba.Name}}</a>
                            </label>
                        </span>
                    </div>
                </div>
            </div>
             <ul ng-class="{'slds-is-expanded' : expanded, 'slds-is-collapsed': !expanded}"
                role="group" 
                aria-labelledby="<tree0-node1_></tree0-node1_>_label"
                ng-if="!!ba.Assets[0]"
                >
                <li class="slds-m-left--medium"
                    id="tree0-node1-0" 
                    role="treeitem" 
                    aria-level="2"
                    ng-repeat="serv in ba.Assets "> 
                    
                    <div class="slds-tree__item">
                        <div class="slds-form-element">
                            <div class="slds-form-element__control">
                                <span >
                                    
                                        
                                    <label  for="id-{{$parent.$index}}-{{$index}}">
                                        <span class="slds-form-element__label"> - {{serv.Name}}</span>
                                    </label>
                                </span>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
            
            <ul ng-class="{'slds-is-expanded' : expanded, 'slds-is-collapsed': !expanded}"
                role="group" 
                aria-labelledby="<tree0-node1_></tree0-node1_>_label"
                ng-if="!ba.Assets[0]"
                >
                <li class="slds-m-left--medium"
                    id="tree0-node1-0" 
                    role="treeitem" 
                    aria-level="2"
                    > 
                    
                    <div class="slds-tree__item">
                        <div class="slds-form-element">
                            <div class="slds-form-element__control">
                                <span >
                                    
                                        
                                    <label  for="id-{{$parent.$index}}-1">
                                        <span class="slds-form-element__label"> - {{ba.Assets.Name}}</span>
                                    </label>
                                </span>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
            
            
            
        </li>
        <li id="tree0-node1" 
        role="treeitem" 
        aria-level="1" 
        aria-expanded="{{expanded}}"
        ng-if="bpTree.response.BillingAccountsTo.BillingAccounts && bpTree.response.BillingAccountsTo.BillingAccounts.length == undefined && bpTree.response.BillingAccountsTo.BillingAccounts.TotalInvalidAssets == 0">
        <div class="slds-tree__item" ng-click="expanded = !expanded">
            <button 
                class="slds-button slds-button--icon slds-m-right--x-small" 
                aria-controls="tree0-node1" 
                title="Toggle">
                <slds-button-svg-icon 
                    size="'small'" 
                    sprite="'utility'" 
                    icon="'chevronright'">
                </slds-button-svg-icon>
            </button>
            <div class="slds-form-element">
                <div class="slds-form-element__control">
                    <span class="slds-radio">
                        <input type="radio" name="options"  id="radioid--1" 
                                    ng-model="bpTree.response.BillingAccountsTo.SelectedBillingAccountTo"
                                    value="{{bpTree.response.BillingAccountsTo.BillingAccounts.Id}}"
                                    ng-click
                            /> 
                        <label class="slds-radio__label" for="radioid--1"> 
                            <span class="slds-radio--faux"></span>
                            <a id="tree0-node1__label" class="slds-form-element__label slds-truncate" href="javascript:void(0);" tabindex="-1" role="presentation" title="Tree Branch">{{bpTree.response.BillingAccountsTo.BillingAccounts.Name}}</a>
                        </label>
                    </span>
                </div>
            </div>
        </div>
         <ul ng-class="{'slds-is-expanded' : expanded, 'slds-is-collapsed': !expanded}"
            role="group" 
            aria-labelledby="<tree0-node1_></tree0-node1_>_label"
            ng-if="!!bpTree.response.BillingAccountsTo.BillingAccounts.Assets[0]"
            >
            <li class="slds-m-left--medium"
                id="tree0-node1-0" 
                role="treeitem" 
                aria-level="2"
                ng-repeat="serv in bpTree.response.BillingAccountsTo.BillingAccounts.Assets "> 
                
                <div class="slds-tree__item">
                    <div class="slds-form-element">
                        <div class="slds-form-element__control">
                            <span >
                                
                                    
                                <label  for="id-{{$parent.$index}}-{{$index}}">
                                    <span class="slds-form-element__label"> - {{serv.Name}}</span>
                                </label>
                            </span>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
        
        <ul ng-class="{'slds-is-expanded' : expanded, 'slds-is-collapsed': !expanded}"
            role="group" 
            aria-labelledby="<tree0-node1_></tree0-node1_>_label"
            ng-if="!bpTree.response.BillingAccountsTo.BillingAccounts.Assets[0]"
            >
            <li class="slds-m-left--medium"
                id="tree0-node1-0" 
                role="treeitem" 
                aria-level="2"
                > 
                
                <div class="slds-tree__item">
                    <div class="slds-form-element">
                        <div class="slds-form-element__control">
                            <span >
                                
                                    
                                <label  for="id-{{$parent.$index}}-1">
                                    <span class="slds-form-element__label"> - {{bpTree.response.BillingAccountsTo.BillingAccounts.Assets.Name}}</span>
                                </label>
                            </span>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
        
        
        
    </li>
    </ul>
</div>
<br>